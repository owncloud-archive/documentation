
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>General Troubleshooting &#8212; ownCloud 10.0.7 Server Administration Manual 10.0.7 documentation</title>
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/responsive.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Code Signing" href="code_signing.html" />
    <link rel="prev" title="Issues and Troubleshooting" href="index.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript">
(function () {
  /**
   * Patch TOC list.
   *
   * Will mutate the underlying span to have a correct ul for nav.
   *
   * @param $span: Span containing nested UL's to mutate.
   * @param minLevel: Starting level for nested lists. (1: global, 2: local).
   */
  var patchToc = function ($ul, minLevel) {
    var findA;

    // Find all a "internal" tags, traversing recursively.
    findA = function ($elem, level) {
      var level = level || 0,
        $items = $elem.find("> li > a.internal, > ul, > li > ul");

      // Iterate everything in order.
      $items.each(function (index, item) {
        var $item = $(item),
          tag = item.tagName.toLowerCase(),
          pad = 15 + ((level - minLevel) * 10);

        if (tag === 'a' && level >= minLevel) {
          // Add to existing padding.
          $item.css('padding-left', pad + "px");
          console.log(level, $item, 'padding-left', pad + "px");
        } else if (tag === 'ul') {
          // Recurse.
          findA($item, level + 1);
        }
      });
    };

    console.log("HERE");
    findA($ul);
  };

  $(document).ready(function () {
    // Add styling, structure to TOC's.
    $(".dropdown-menu").each(function () {
      $(this).find("ul").each(function (index, item){
        var $item = $(item);
        $item.addClass('unstyled');
      });
      $(this).find("li").each(function () {
        $(this).parent().append(this);
      });
    });

    // Patch in level.
    patchToc($("ul.globaltoc"), 2);
    patchToc($("ul.localtoc"), 2);

    // Enable dropdown.
    $('.dropdown-toggle').dropdown();
  });
}());
</script>

<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://piwik.owncloud.com/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '4']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->

  </head><body>
  

<noscript><p><img src="https://piwik.owncloud.com/piwik.php?idsite=4&rec=1" style="border:0" alt=""></p></noscript>
<div class="header_con">
<div class="container">
<h1 id="site-title"><a href="http://doc.owncloud.com" title="ownCloud" rel="home">ownCloud</a></h1>

<form class="headersearch" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

<div class="follow">
<p><a class="visible" href="https://owncloud.com" title="ownCloud">Back to owncloud.com</a>|<span class="visible">Follow us:</span></p>
<a class="twitter" href="https://twitter.com/owncloud" target="_blank">Twitter</a>
<a class="facebook" href="http://www.facebook.com/owncloud" target="_blank">Facebook</a>
<a class="google" href="https://plus.google.com/+OwncloudOfficial" target="_blank">Google</a>
</div>

</div>
</div>

<div id="main">
<div class="container">
  <div class="content">

    </div>
    
			<div class="row">
				<div class="span3">
					<div class="sidebar">
						<div class="box sidenavi">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>

<li><a href="../contents.html">Table of Contents</a></li>
									</ul>
                  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new_admin.html">What’s New in ownCloud 10.0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Issues and Troubleshooting</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">General Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bugs">Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">General Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oauth2">OAuth2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#missing-data-directory">Missing Data Directory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-web-server-and-php-problems">Troubleshooting Web server and PHP problems</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-webdav">Troubleshooting WebDAV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-contacts-calendar">Troubleshooting Contacts &amp; Calendar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#client-sync-stalls">Client Sync Stalls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-issues">Other issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code_signing.html">Code Signing</a></li>
<li class="toctree-l2"><a class="reference internal" href="impersonate_users.html">Impersonating Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appliance/index.html">The ownCloud X Appliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

								</ul>
							</div>
						</div>
					</div>
				</div>
        

				<div class="span9">
					<div class="page-content">
						
  <div class="section" id="general-troubleshooting">
<h1>General Troubleshooting<a class="headerlink" href="#general-troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>If you have trouble installing, configuring or maintaining ownCloud, please refer to our community support channels:</p>
<ul class="simple">
<li><a class="reference external" href="https://central.owncloud.org">The ownCloud Forums</a></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ownCloud forums have a <a class="reference external" href="https://owncloud.org/faq/">FAQ category</a> where each topic corresponds
to typical mistakes or frequently occurring issues</p>
</div>
<ul class="simple">
<li><a class="reference external" href="https://mailman.owncloud.org/mailman/listinfo/user">The ownCloud User mailing list</a></li>
<li>The ownCloud IRC chat channel <code class="docutils literal notranslate"><span class="pre">irc://#owncloud&#64;freenode.net</span></code> on
freenode.net, also accessible via <a class="reference external" href="http://webchat.freenode.net/?channels=owncloud">webchat</a></li>
</ul>
<p>Please understand that all these channels essentially consist of users like you
helping each other out. Consider helping others out where you can, to contribute
back for the help you get. This is the only way to keep a community like
ownCloud healthy and sustainable!</p>
<p>If you are using ownCloud in a business or otherwise large scale deployment,
note that ownCloud Inc. offers the <a class="reference external" href="https://owncloud.com/lp/community-or-enterprise/">Enterprise Edition</a> with commercial
support options.</p>
<div class="section" id="bugs">
<h2>Bugs<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<p>If you think you have found a bug in ownCloud, please:</p>
<ul class="simple">
<li>Search for a solution (see the options above)</li>
<li>Double-check your configuration</li>
</ul>
<p>If you can’t find a solution, please use our <a class="reference external" href="https://doc.owncloud.org/server/latest/developer_manual/bugtracker/index.html">bugtracker</a>. You can generate a
configuration report with the <a class="reference internal" href="../configuration/server/occ_command.html#config-commands-label"><span class="std std-ref">occ config command</span></a>, with passwords automatically obscured.</p>
</div>
<div class="section" id="id1">
<h2>General Troubleshooting<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Check the ownCloud <a class="reference internal" href="../installation/system_requirements.html"><span class="doc">System Requirements</span></a>, especially
supported browser versions.</p>
<p>When you see warnings about <code class="docutils literal notranslate"><span class="pre">code</span> <span class="pre">integrity</span></code>, refer to <a class="reference internal" href="code_signing.html"><span class="doc">Code Signing</span></a>.</p>
<div class="section" id="disable-3rdparty-non-shipped-apps">
<h3>Disable 3rdparty / non-shipped apps<a class="headerlink" href="#disable-3rdparty-non-shipped-apps" title="Permalink to this headline">¶</a></h3>
<p>It might be possible that 3rd party / non-shipped apps are causing various
different issues. Always disable 3rd party apps before upgrades, and for
troubleshooting. Please refer to the <a class="reference internal" href="../configuration/server/occ_command.html#apps-commands-label"><span class="std std-ref">Apps Commands</span></a> on how
to disable an app from command line.</p>
</div>
<div class="section" id="owncloud-logfiles">
<h3>ownCloud Logfiles<a class="headerlink" href="#owncloud-logfiles" title="Permalink to this headline">¶</a></h3>
<p>In a standard ownCloud installation the log level is set to <code class="docutils literal notranslate"><span class="pre">Normal</span></code>. To find
any issues you need to raise the log level to <code class="docutils literal notranslate"><span class="pre">All</span></code> in your <code class="docutils literal notranslate"><span class="pre">config.php</span></code>
file, or to <strong>Everything</strong> on your ownCloud Admin page. Please see
<a class="reference internal" href="../configuration/server/logging_configuration.html"><span class="doc">Logging Configuration</span></a> for more information on
these log levels.</p>
<p>Some logging - for example JavaScript console logging - needs debugging
enabled. Edit <code class="file docutils literal notranslate"><span class="pre">config/config.php</span></code> and change <code class="docutils literal notranslate"><span class="pre">'debug'</span> <span class="pre">=&gt;</span> <span class="pre">false,</span></code> to
<code class="docutils literal notranslate"><span class="pre">'debug'</span> <span class="pre">=&gt;</span> <span class="pre">true,</span></code> Be sure to change it back when you are finished.</p>
<p>For JavaScript issues you will also need to view the javascript console. All
major browsers have developer tools for viewing the console, and you
usually access them by pressing F12. For Firefox we recommend to installing
the <a class="reference external" href="https://getfirebug.com/">Firebug extension</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The logfile of ownCloud is located in the data directory
<code class="docutils literal notranslate"><span class="pre">owncloud/data/owncloud.log</span></code>.</p>
</div>
</div>
<div class="section" id="php-version-and-information">
<span id="label-phpinfo"></span><h3>PHP Version and Information<a class="headerlink" href="#php-version-and-information" title="Permalink to this headline">¶</a></h3>
<p>You will need to know your PHP version and configurations. To do this, create a
plain-text file named <strong>phpinfo.php</strong> and place it in your Web root, for
example <code class="docutils literal notranslate"><span class="pre">/var/www/html/phpinfo.php</span></code>. (Your Web root may be in a different
location; your Linux distribution documentation will tell you where.) This file
contains just this line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?php phpinfo(); ?&gt;
</pre></div>
</div>
<p>Open this file in a Web browser by pointing your browser to
<code class="docutils literal notranslate"><span class="pre">localhost/phpinfo.php</span></code>:</p>
<div class="figure">
<img alt="../_images/phpinfo.png" src="../_images/phpinfo.png" />
</div>
<p>Your PHP version is at the top, and the rest of the page contains abundant
system information such as active modules, active <code class="docutils literal notranslate"><span class="pre">.ini</span></code> files, and much more.
When you are finished reviewing your information you must delete
<code class="docutils literal notranslate"><span class="pre">phpinfo.php</span></code>, or move it outside of your Web directory, because it is a
security risk to expose such sensitive data.</p>
</div>
<div class="section" id="debugging-sync-issues">
<h3>Debugging Sync Issues<a class="headerlink" href="#debugging-sync-issues" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The data directory on the server is exclusive to ownCloud and must
not be modified manually.</p>
</div>
<p>Disregarding this can lead to unwanted behaviours like:</p>
<ul class="simple">
<li>Problems with sync clients</li>
<li>Undetected changes due to caching in the database</li>
</ul>
<p>If you need to directly upload files from the same server please use a WebDAV
command line client like <code class="docutils literal notranslate"><span class="pre">cadaver</span></code> to upload files to the WebDAV interface at:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/owncloud/remote.php/dav</span></code></p>
</div>
<div class="section" id="common-problems-error-messages">
<h3>Common problems / error messages<a class="headerlink" href="#common-problems-error-messages" title="Permalink to this headline">¶</a></h3>
<p>Some common problems / error messages found in your logfiles as described above:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SQLSTATE[HY000]</span> <span class="pre">[1040]</span> <span class="pre">Too</span> <span class="pre">many</span> <span class="pre">connections</span></code> -&gt; You need to increase the
connection limit of your database, please refer to the manual of your database
for more information.</li>
<li><code class="docutils literal notranslate"><span class="pre">SQLSTATE[HY000]:</span> <span class="pre">General</span> <span class="pre">error:</span> <span class="pre">5</span> <span class="pre">database</span> <span class="pre">is</span> <span class="pre">locked</span></code> -&gt; You’re using
<code class="docutils literal notranslate"><span class="pre">SQLite</span></code>
which can’t handle a lot of parallel requests. Please consider converting to
another database like described in
<a class="reference internal" href="../configuration/database/db_conversion.html"><span class="doc">Converting Database Type</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">SQLSTATE[HY000]:</span> <span class="pre">General</span> <span class="pre">error:</span> <span class="pre">2006</span> <span class="pre">MySQL</span> <span class="pre">server</span> <span class="pre">has</span> <span class="pre">gone</span> <span class="pre">away</span></code> -&gt; Please
refer to <a class="reference internal" href="../configuration/database/linux_database_configuration.html#db-troubleshooting-label"><span class="std std-ref">Troubleshooting</span></a> for more information.</li>
<li><code class="docutils literal notranslate"><span class="pre">SQLSTATE[HY000]</span> <span class="pre">[2002]</span> <span class="pre">No</span> <span class="pre">such</span> <span class="pre">file</span> <span class="pre">or</span> <span class="pre">directory</span></code> -&gt; There is a problem
accessing your SQLite database file in your data directory
(<code class="docutils literal notranslate"><span class="pre">data/owncloud.db</span></code>). Please check the permissions of this folder/file or
if it exists at all. If you’re using MySQL please start your database.</li>
<li><code class="docutils literal notranslate"><span class="pre">Connection</span> <span class="pre">closed</span> <span class="pre">/</span> <span class="pre">Operation</span> <span class="pre">cancelled</span></code> or <code class="docutils literal notranslate"><span class="pre">expected</span> <span class="pre">filesize</span> <span class="pre">4734206</span> <span class="pre">got</span> <span class="pre">458752</span></code>
-&gt; This could be caused by wrong <code class="docutils literal notranslate"><span class="pre">KeepAlive</span></code> settings within your Apache config.
Make sure that <code class="docutils literal notranslate"><span class="pre">KeepAlive</span></code> is set to <code class="docutils literal notranslate"><span class="pre">On</span></code> and  also try to raise the limits of
<code class="docutils literal notranslate"><span class="pre">KeepAliveTimeout</span></code> and  <code class="docutils literal notranslate"><span class="pre">MaxKeepAliveRequests</span></code>. On Apache with <code class="docutils literal notranslate"><span class="pre">mod_php</span></code> using
a different <a class="reference internal" href="../installation/source_installation.html#apache-mpm-label"><span class="std std-ref">Multi-Processing Module (MPM)</span></a> then <code class="docutils literal notranslate"><span class="pre">prefork</span></code> could be another reason. Further
information is available <a class="reference external" href="https://central.owncloud.org/t/expected-filesize-xxx-got-yyy-0/816">in the forums</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">basic</span> <span class="pre">authentication</span> <span class="pre">headers</span> <span class="pre">were</span> <span class="pre">found</span></code> -&gt; This error is shown in your
<code class="docutils literal notranslate"><span class="pre">data/owncloud.log</span></code> file. Some Apache modules like <code class="docutils literal notranslate"><span class="pre">mod_fastcgi</span></code>, <code class="docutils literal notranslate"><span class="pre">mod_fcgid</span></code>
or <code class="docutils literal notranslate"><span class="pre">mod_proxy_fcgi</span></code> are not passing the needed authentication headers to
PHP and so the login to ownCloud via WebDAV, CalDAV and CardDAV clients is
failing. More information on how to correctly configure your environment can be
found <a class="reference external" href="https://central.owncloud.org/t/no-basic-authentication-headers-were-found-message/819">at the forums</a>.</li>
</ul>
</div>
</div>
<div class="section" id="oauth2">
<h2>OAuth2<a class="headerlink" href="#oauth2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="owncloud-clients-cannot-connect-to-the-owncloud-server">
<span id="bearer-auth-header-problem-label"></span><h3>ownCloud clients cannot connect to the ownCloud server<a class="headerlink" href="#owncloud-clients-cannot-connect-to-the-owncloud-server" title="Permalink to this headline">¶</a></h3>
<p>If ownCloud clients cannot connect to your ownCloud server, check to see if <cite>PROPFIND</cite> requests receive <code class="docutils literal notranslate"><span class="pre">HTTP/1.1</span> <span class="pre">401</span> <span class="pre">Unauthorized</span></code> responses.
If this is happening, more than likely your webserver configuration is stripping out <a class="reference external" href="https://tools.ietf.org/html/rfc6750">the bearer authorization header</a>.</p>
<p>If you’re using the Apache web server, add the following <code class="docutils literal notranslate"><span class="pre">SetEnvIf</span></code> directive to your Apache configuration, whether in the general Apache config, in a configuration include file, or in ownCloud’s .htaccess file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SetEnvIf Authorization &quot;(.*)&quot; HTTP_AUTHORIZATION=$1
</pre></div>
</div>
<p>Alternatively, if you’re using NGINX, add the following configuration to your NGINX setup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Adding this allows the variable to be accessed with $_SERVER[&#39;Authorization&#39;]
fastcgi_param Authorization $http_authorization;
</pre></div>
</div>
</div>
</div>
<div class="section" id="missing-data-directory">
<h2>Missing Data Directory<a class="headerlink" href="#missing-data-directory" title="Permalink to this headline">¶</a></h2>
<p>During the normal course of operations, the ownCloud data directory may be
temporarily unavailable for a variety of reasons.
These can include network timeouts on mounted network disks, unintentional
unmounting of the partition on which the directory sits, or a corruption of the
RAID setup.
If you have experienced this, here’s how ownCloud works and what you can expect.</p>
<p>During normal operation, ownCloud’s data directory contains a hidden file, named <code class="docutils literal notranslate"><span class="pre">.ocdata</span></code>.
The purpose of this file is for setups where the data folder is mounted (such as via NFS) and for some reason the mount disappeared.
If the directory isn’t available, the data folder would, in effect, be completely empty and the “.ocdata” would be missing.
When this happens, ownCloud will return a <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_Server_Error">503 Service not available</a> error, to prevent clients believing that the files are gone.</p>
</div>
<div class="section" id="troubleshooting-web-server-and-php-problems">
<h2>Troubleshooting Web server and PHP problems<a class="headerlink" href="#troubleshooting-web-server-and-php-problems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logfiles">
<h3>Logfiles<a class="headerlink" href="#logfiles" title="Permalink to this headline">¶</a></h3>
<p>When having issues the first step is to check the logfiles provided by PHP, the
Web server and ownCloud itself.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the following the paths to the logfiles of a default Debian
installation running Apache2 with mod_php is assumed. On other Web servers,
Linux distros or operating systems they can differ.</p>
</div>
<ul class="simple">
<li>The logfile of Apache2 is located in <code class="docutils literal notranslate"><span class="pre">/var/log/apache2/error.log</span></code>.</li>
<li>The logfile of PHP can be configured in your <code class="docutils literal notranslate"><span class="pre">/etc/php5/apache2/php.ini</span></code>.
You need to set the directive <code class="docutils literal notranslate"><span class="pre">log_errors</span></code> to <code class="docutils literal notranslate"><span class="pre">On</span></code> and choose the path
to store the logfile in the <code class="docutils literal notranslate"><span class="pre">error_log</span></code> directive. After those changes you
need to restart your Web server.</li>
<li>The logfile of ownCloud is located in the data directory
<code class="docutils literal notranslate"><span class="pre">/var/www/owncloud/data/owncloud.log</span></code>.</li>
</ul>
</div>
<div class="section" id="web-server-and-php-modules">
<h3>Web Server and PHP Modules<a class="headerlink" href="#web-server-and-php-modules" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Lighttpd is not supported with ownCloud, and some ownCloud features
may not work at all on Lighttpd.</p>
</div>
<p>There are some Web server or PHP modules which are known to cause various
problems like broken up-/downloads. The following shows a draft overview of
these modules:</p>
<ol class="arabic simple">
<li>Apache</li>
</ol>
<ul class="simple">
<li>libapache2-mod-php5filter (use libapache2-mod-php5 instead)</li>
<li>mod_dav</li>
<li>mod_deflate</li>
<li>mod_evasive</li>
<li>mod_pagespeed</li>
<li>mod_proxy_html (can cause broken PDF downloads)</li>
<li>mod_reqtimeout</li>
<li>mod_security</li>
<li>mod_spdy together with libapache2-mod-php5 / mod_php (use fcgi or php-fpm instead)</li>
<li>mod_xsendfile / X-Sendfile (causing broken downloads if not configured correctly)</li>
</ul>
<ol class="arabic simple" start="2">
<li>NGINX</li>
</ol>
<ul class="simple">
<li>ngx_pagespeed</li>
<li>HttpDavModule</li>
<li>X-Sendfile (causing broken downloads if not configured correctly)</li>
</ul>
<ol class="arabic simple" start="3">
<li>PHP</li>
</ol>
<ul class="simple">
<li>eAccelerator</li>
</ul>
</div>
</div>
<div class="section" id="troubleshooting-webdav">
<span id="trouble-webdav-label"></span><h2>Troubleshooting WebDAV<a class="headerlink" href="#troubleshooting-webdav" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>General troubleshooting<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>ownCloud uses SabreDAV, and the SabreDAV documentation is comprehensive and
helpful.</p>
<p>See:</p>
<ul class="simple">
<li><a class="reference external" href="http://sabre.io/dav/faq/">SabreDAV FAQ</a></li>
<li><a class="reference external" href="http://sabre.io/dav/webservers">Web servers</a> (Lists lighttpd as not
recommended)</li>
<li><a class="reference external" href="http://sabre.io/dav/large-files/">Working with large files</a> (Shows a PHP
bug in older SabreDAV versions and information for mod_security problems)</li>
<li><a class="reference external" href="http://sabre.io/dav/0bytes">0 byte files</a> (Reasons for empty files on the
server)</li>
<li><a class="reference external" href="http://sabre.io/dav/clients/">Clients</a> (A comprehensive list of WebDAV
clients, and possible problems with each one)</li>
<li><a class="reference external" href="http://sabre.io/dav/clients/finder/">Finder, OS X’s built-in WebDAV client</a>
(Describes problems with Finder on various Web servers)</li>
</ul>
<p>There is also a well maintained FAQ thread available at the <a class="reference external" href="https://central.owncloud.org/t/how-to-fix-caldav-carddav-webdav-problems/852">ownCloud Forums</a>
which contains various additional information about WebDAV problems.</p>
</div>
<div class="section" id="error-0x80070043-the-network-name-cannot-be-found-while-adding-a-network-drive">
<h3>Error 0x80070043 “The network name cannot be found.” while adding a network drive<a class="headerlink" href="#error-0x80070043-the-network-name-cannot-be-found-while-adding-a-network-drive" title="Permalink to this headline">¶</a></h3>
<p>The windows native WebDAV client might fail with the following error message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="mh">0x80070043</span> <span class="s2">&quot;The network name cannot be found.&quot;</span> <span class="k">while</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">network</span> <span class="n">drive</span>
</pre></div>
</div>
<p>A known workaround for this issue is to update your web server configuration.</p>
<p><strong>Apache</strong></p>
<p>You need to add the following rule set to your main web server or virtual host configuration, or the <code class="docutils literal notranslate"><span class="pre">.htaccess</span></code> file in your document root.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Fixes Windows WebDav client error 0x80070043 &quot;The network name cannot be found.&quot;
RewriteEngine On
RewriteCond %{HTTP_USER_AGENT} ^(DavClnt)$
RewriteCond %{REQUEST_METHOD} ^(OPTIONS)$
RewriteRule .* - [R=401,L]
</pre></div>
</div>
</div>
</div>
<div class="section" id="troubleshooting-contacts-calendar">
<h2>Troubleshooting Contacts &amp; Calendar<a class="headerlink" href="#troubleshooting-contacts-calendar" title="Permalink to this headline">¶</a></h2>
<div class="section" id="service-discovery">
<span id="service-discovery-label"></span><h3>Service discovery<a class="headerlink" href="#service-discovery" title="Permalink to this headline">¶</a></h3>
<p>Some clients - especially on iOS/Mac OS X - have problems finding the proper
sync URL, even when explicitly configured to use it.</p>
<p>If you want to use CalDAV or CardDAV clients together with ownCloud it is
important to have a correct working setup of the following URLs:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">https://example.com/.well-known/carddav</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">https://example.com/.well-known/caldav</span></code></div>
<div class="line"><br /></div>
</div>
<p>Those need to be redirecting your clients to the correct DAV endpoints. If
running ownCloud at the document root of your Web server the correct URL is:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/remote.php/dav</span></code></p>
<p>and if running in a subfolder like <code class="docutils literal notranslate"><span class="pre">owncloud</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/owncloud/remote.php/dav</span></code></p>
<p>For the first case the <code class="file docutils literal notranslate"><span class="pre">.htaccess</span></code> file shipped with ownCloud should do
this work for your when running Apache. You only need to make sure that your
Web server is using this file.</p>
<p>If your ownCloud instance is installed in a subfolder called <code class="docutils literal notranslate"><span class="pre">owncloud</span></code> and
you’re running Apache create or edit the <code class="file docutils literal notranslate"><span class="pre">.htaccess</span></code> file within the
document root of your Web server and add the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Redirect</span> <span class="mi">301</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">carddav</span> <span class="o">/</span><span class="n">owncloud</span><span class="o">/</span><span class="n">remote</span><span class="o">.</span><span class="n">php</span><span class="o">/</span><span class="n">dav</span>
<span class="n">Redirect</span> <span class="mi">301</span> <span class="o">/.</span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="o">/</span><span class="n">caldav</span> <span class="o">/</span><span class="n">owncloud</span><span class="o">/</span><span class="n">remote</span><span class="o">.</span><span class="n">php</span><span class="o">/</span><span class="n">dav</span>
</pre></div>
</div>
<p>Now change the URL in the client settings to just use:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com</span></code></p>
<p>instead of e.g.</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/owncloud/remote.php/dav/principals/username</span></code>.</p>
<p>There are also several techniques to remedy this, which are described extensively at
the <a class="reference external" href="http://sabre.io/dav/service-discovery/">Sabre DAV website</a>.</p>
</div>
<div class="section" id="unable-to-update-contacts-or-events">
<h3>Unable to update Contacts or Events<a class="headerlink" href="#unable-to-update-contacts-or-events" title="Permalink to this headline">¶</a></h3>
<p>If you get an error like:</p>
<p><code class="docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">https://example.com/remote.php/dav</span> <span class="pre">HTTP/1.0</span> <span class="pre">501</span> <span class="pre">Not</span> <span class="pre">Implemented</span></code></p>
<p>it is likely caused by one of the following reasons:</p>
<dl class="docutils">
<dt>Using Pound reverse-proxy/load balancer</dt>
<dd>As of writing this Pound doesn’t support the HTTP/1.1 verb.
Pound is easily <a class="reference external" href="http://www.apsis.ch/pound/pound_list/archive/2013/2013-08/1377264673000">patched</a>
to support HTTP/1.1.</dd>
<dt>Misconfigured Web server</dt>
<dd>Your Web server is misconfigured and blocks the needed DAV methods.
Please refer to <a class="reference internal" href="#trouble-webdav-label"><span class="std std-ref">Troubleshooting WebDAV</span></a> above for troubleshooting steps.</dd>
</dl>
</div>
</div>
<div class="section" id="client-sync-stalls">
<h2>Client Sync Stalls<a class="headerlink" href="#client-sync-stalls" title="Permalink to this headline">¶</a></h2>
<p>One known reason is stray locks. These should expire automatically after an hour. If stray
locks don’t expire (identified by e.g. repeated <code class="docutils literal notranslate"><span class="pre">file.txt</span> <span class="pre">is</span> <span class="pre">locked</span></code> and/or <code class="docutils literal notranslate"><span class="pre">Exception\\\\FileLocked</span></code>
messages in your <code class="file docutils literal notranslate"><span class="pre">data/owncloud.log</span></code>), make sure that you are running system cron and
not Ajax cron (See <a class="reference internal" href="../configuration/server/background_jobs_configuration.html"><span class="doc">Background Jobs</span></a>).
See <a class="reference external" href="https://github.com/owncloud/core/issues/22116">https://github.com/owncloud/core/issues/22116</a> and <a class="reference external" href="https://central.owncloud.org/t/file-is-locked-how-to-unlock/985">https://central.owncloud.org/t/file-is-locked-how-to-unlock/985</a>
for some discussion and additional info of this issue.</p>
</div>
<div class="section" id="other-issues">
<h2>Other issues<a class="headerlink" href="#other-issues" title="Permalink to this headline">¶</a></h2>
<p>Some services like <em>Cloudflare</em> can cause issues by minimizing JavaScript
and loading it only when needed. When having issues like a not working
login button or creating new users make sure to disable such services
first.</p>
</div>
</div>


					</div>
				</div>
			</div>

  </div>
</div>
</div>
<footer class="footer">
  <div class="container">
  <div class="footer_navi">

  <div class="menu-footer-navigation-container">
  	<ul id="menu-footer-navigation" class="menu">
  		<li><a href="https://owncloud.com">Home</a></li>
  		<li><a href="https://owncloud.com/about">About ownCloud</a></li>
  		<li><a href="https://owncloud.com/resources">Resources</a></li>
  		<li><a href="https://owncloud.com/become-partner">Become a Partner</a></li>
  		<li><a href="https://owncloud.org">Community</a></li>
  		<li><a href="https://owncloud.com/blog">Blog</a></li>
  		<li><a href="https://owncloud.com/jobs">Jobs</a></li>
  		<li><a href="https://owncloud.com/contact">Contact</a></li>
  	</ul>
  </div>

  <div class="follow_f">
  	<ul>
  		<li><a class="twitter" href="https://twitter.com/ownloud" target="_blank">Twitter</a></li>
  		<li><a class="facebook" href="http://www.facebook.com/owncloud" target="_blank">Facebook</a></li>
  		<li><a class="google" href="https://plus.google.com/+OwncloudOfficial" target="_blank">Google</a></li>
  	</ul>
  </div>

  <p class="copyright">© ownCloud 2011-2015</p>

  </div>
  </div>
</footer>
  </body>
</html>